(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1835d6f5"],{"5d0e":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"vue-template"},[s("div",{staticClass:"vertical-center mt-5"},[s("div",{staticClass:"inner-block mt-5"},[s("form",{on:{submit:function(t){return t.preventDefault(),e.loginBtnClicked(t)}}},[s("h3",[e._v("Admin's Only")]),s("div",{staticClass:"form-group"},[s("label",[e._v("Email address")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.credentials.username,expression:"credentials.username",modifiers:{trim:!0}}],staticClass:"form-control form-control-lg",attrs:{type:"email",name:"email"},domProps:{value:e.credentials.username},on:{input:function(t){t.target.composing||e.$set(e.credentials,"username",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),s("div",{staticClass:"form-group"},[s("label",[e._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.credentials.password,expression:"credentials.password",modifiers:{trim:!0}}],staticClass:"form-control form-control-lg",attrs:{type:"password",name:"password"},domProps:{value:e.credentials.password},on:{input:function(t){t.target.composing||e.$set(e.credentials,"password",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),s("button",{staticClass:"btn btn-dark btn-lg btn-block",attrs:{type:"submit"}},[e._v(" Sign In ")])])])])])},n=[],r=s("bc3a"),i=s.n(r),o=s("a18c"),l={name:"SignIn",data:function(){return{credentials:{username:"",password:""},admin:[],error:""}},mounted:function(){var e=this;sessionStorage.isLoggedIn&&this.$router.push("/user-dashboard"),i.a.get("https://myappr.herokuapp.com/api/auth/showusers").then((function(t){e.admin=t.data})).catch((function(e){console.log(e)}))},methods:{validateFields:function(){return 0===this.credentials.username.length?(this.error="Username is required",!1):0!==this.credentials.password.length||(this.error="Password is required",!1)},loginBtnClicked:function(){var e=this;this.validateFields()&&i.a.post("https://myappr.herokuapp.com/api/auth/login",{email:this.credentials.username,password:this.credentials.password}).then((function(t){console.log(t),console.log(e.admin),401==t.data.status?alert(t.data.msg):200==t.data.status&&(sessionStorage.setItem("token",t.data.token),sessionStorage.setItem("isLoggedIn",!0),sessionStorage.setItem("user",JSON.stringify(t.data.user)),o["a"].push("/admin-page"))})).catch((function(e){console.log(e.message)}))},resetForm:function(){this.credentials.username=null,this.credentials.password=null}}},c=l,d=(s("fc10"),s("2877")),u=Object(d["a"])(c,a,n,!1,null,null,null);t["default"]=u.exports},"786a":function(e,t,s){},fc10:function(e,t,s){"use strict";s("786a")}}]);
//# sourceMappingURL=chunk-1835d6f5.2e6e820a.js.map